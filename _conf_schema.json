{
    "summary": {
        "description": "图片外显",
        "hint": "第一步：对单张图片的消息插入外显金句。外显指的是：正常的QQ没点进群聊前，若群聊发了一张图片，你只会在外面看见“[图片]”, 而图片外显功能就是为了让 “[图片]” 两字显示成更丰富的文本（仅aiocqhttp平台可用）",
        "type": "object",
        "items": {
            "enable": {
                "description": "是否开启图片外显",
                "type": "bool",
                "default": true
            },
            "quotes": {
                "description": "图片外显金句",
                "hint": "随机抽取一句金句给图片外显使用。请自行添加",
                "type": "list",
                "default": [
                    "你已被移出群聊",
                    "[群主女装图]",
                    "哎呦，你干嘛~",
                    "Ciallo～(∠・ω< )⌒☆"
                ]
            }
        }
    },
    "error": {
        "description": "拦截报错配置",
        "type": "object",
        "hint": "第二步：全局拦截报错",
        "items": {
            "keywords": {
                "description": "检测报错所用关键词",
                "hint": "Bot发的消息中，包含列表中任一关键字时，消息将被拦截",
                "type": "list",
                "default": [
                    "请求失败",
                    "出现异常"
                ]
            },
            "mode": {
                "description": "报错处理模式",
                "hint": "block:拦截报错;    forward:转发报错给管理员;    ignore:不处理",
                "type": "string",
                "options": [
                    "block",
                    "forward",
                    "ignore"
                ],
                "default": "forward"
            }
        }
    },
    "only_llm_result": {
        "description": "只处理LLM结果",
        "type": "bool",
        "hint": "第三步：只处理 LLM返回的消息。建议打开。作用域: 人机拦截、艾特配置、文本清理、引用阈值",
        "default": true
    },
    "toobot": {
        "description": "人机拦截配置",
        "type": "object",
        "hint": "第四步：拦截人机发言",
        "items": {
            "block_reread": {
                "description": "拦截人机复读式发言",
                "type": "bool",
                "hint": "打开后，若Bot当前要发送的消息和前5次发送的消息有重复的，则被拦截",
                "default": true
            },
            "block_ai": {
                "description": "拦截太人机的发言",
                "type": "bool",
                "hint": "打开后，根据关键词检测bot的发言是否太过于人机",
                "default": true
            },
            "keywords": {
                "description": "拦截人机所用关键词",
                "hint": "Bot发的消息中，包含列表中任一关键字时，判定为过于人机，消息将被拦截",
                "type": "list",
                "default": [
                    "抱歉",
                    "您好",
                    "请稍后",
                    "隐私政策",
                    "作为AI助手",
                    "作为一个AI",
                    "我理解您的感受",
                    "让我来为您解释",
                    "根据相关法规",
                    "很抱歉给您带来不便",
                    "感谢您的理解",
                    "感谢您的耐心等待",
                    "为您带来的不便深表歉意",
                    "如有需要请随时联系",
                    "如果您还有其他问题",
                    "我将尽力为您提供帮助",
                    "希望我的回答对您有所帮助",
                    "该问题需要进一步核实",
                    "请您理解并配合",
                    "暂时无法提供相关信息",
                    "不支持该请求",
                    "不在支持范围内",
                    "该内容暂不可用",
                    "出于安全原因",
                    "出于合规要求",
                    "为保障您的账户安全",
                    "为了保护您的隐私",
                    "根据平台规则",
                    "根据系统检测",
                    "由系统自动生成"
                ]
            }
        }
    },
    "parse_at": {
        "description": "艾特配置",
        "type": "object",
        "hint": "第五步：将消息中句首的假艾特转换成真艾特, 再按概率保留或移除艾特",
        "default": true,
        "items": {
            "enable": {
                "description": "解析假艾特",
                "hint": "支持解析的格式：@username @id [at:username] [at:id] ,且忽略中英文和大小写",
                "type": "bool",
                "default": true
            },
            "at_str": {
                "description": "转换成字符串艾特",
                "hint": "将解析到的真艾特重新转换成字符串艾特，即 @username xxx (如果发现真艾特与文本间的空格消失了，可以尝试开启此选项，开启后插件会用字符串形式保住空格)",
                "type": "bool",
                "default": true
            },
            "at_prob": {
                "description": "艾特概率",
                "hint": "随机值小于此值 → 必须带 @；随机值大于此值 → 必须不带 @。设为 0 则关闭此功能。请提前关闭Astrbot自动的At功能",
                "type": "float",
                "slider": {
                    "min": 0,
                    "max": 1,
                    "step": 0.001
                },
                "default": 0.01
            }
        }
    },
    "clean": {
        "description": "文本清理配置",
        "type": "object",
        "hint": "第六步：清理文本。注意清洗顺序：中括号内容 -> 小括号内容 -> 情绪标签 -> emoji -> 句首字符 -> 句尾字符 -> 整体清洗特殊符号",
        "items": {
            "text_threshold": {
                "description": "文本清理长度阈值",
                "hint": "多少个字符以下时执行文本清理，可以防止对长文本误清理，设为 0 则不执行文本清理",
                "type": "int",
                "slider": {
                    "min": 0,
                    "max": 1000,
                    "step": 50
                },
                "default": 150
            },
            "bracket": {
                "description": "摘除中括号内容",
                "hint": "即摘除消息中的 [...] ",
                "type": "bool",
                "default": true
            },
            "parenthesis": {
                "description": "摘除小括号内容",
                "hint": "即摘除消息中的 (...) 支持半角和全角括号",
                "type": "bool",
                "default": true
            },
            "emotion_tag": {
                "description": "摘除情绪标签",
                "hint": "即摘除消息中的 &&...&&",
                "type": "bool",
                "default": true
            },
            "emoji": {
                "description": "清理emoji",
                "hint": "清理文本中的emoji，对喜欢发emoji的模型有奇效（比如智谱）",
                "type": "bool",
                "default": true
            },
            "lead": {
                "description": "去除句首字符",
                "hint": "对某些喜欢输出前缀的模型有奇效，注意只去除句首字符",
                "type": "list",
                "default": [
                    "print",
                    ":",
                    "："
                ]
            },
            "tail": {
                "description": "去除句尾字符",
                "hint": "对某些喜欢输出句号的模型有奇效，注意只去除句尾字符",
                "type": "list",
                "default": [
                    "。",
                    "."
                ]
            },
            "punctuation": {
                "description": "整体清洗的特殊符号",
                "hint": "填写正则表达式，例如：[#%~], 注意是整句清洗",
                "type": "string",
                "default": "[#%~]"
            }
        }
    },
    "reply_threshold": {
        "description": "引用阈值",
        "hint": "第七步：智能地引用消息。当bot要回复的消息被其他人插嘴了几条时，则引用要回复的消息。 设为 0 表示关闭引用功能, 请提前关闭Astrbot自动的Reply功能",
        "type": "int",
        "slider": {
            "min": 0,
            "max": 4,
            "step": 1
        },
        "default": 1
    },
    "t2i": {
        "description": "文转图配置",
        "type": "object",
        "hint": "第八步：将长文本转为图片",
        "items": {
            "enable": {
                "description": "开启长文本转图",
                "hint": "插件使用 pillowmd 渲染长文本，轻量易用又稳定。如果可以, 开启此功能前, 请先关闭Astrbot的自带的长文本转图功能",
                "type": "bool",
                "default": true
            },
            "threshold": {
                "description": "文本长度阈值",
                "hint": "当消息长度超过此阈值时, 执行长文本处理",
                "type": "int",
                "slider": {
                    "min": 0,
                    "max": 1000,
                    "step": 50
                },
                "default": 150
            },
            "pillowmd_style_dir": {
                "description": "Pillowmd样式文件目录",
                "hint": "支持相对路径和绝对路径, 请用 / 隔开",
                "type": "string",
                "default": "data/plugins/astrbot_plugin_outputpro/t2i_style"
            },
            "auto_page": {
                "description": "自动分页",
                "hint": "开启后，渲染器会按照黄金分割比进行分页",
                "type": "bool",
                "default": true
            },
            "clean_cache": {
                "description": "自动清理缓存",
                "hint": "开启后，重载插件时，会自动清空图片缓存",
                "type": "bool",
                "default": true
            }
        }
    },
    "forward":{
        "description": "转发配置",
        "hint": "第九步：将长文本合并转发（仅aiocqhttp平台可用）",
        "type": "object",
        "items": {
            "enable": {
                "description": "开启自动转发",
                "hint":"如果可以, 开启此功能前, 请先关闭Astrbot的自带的转发功能",
                "type": "bool",
                "default": true
            },
            "threshold": {
                "description": "文本长度阈值",
                "hint": "转发长度超过此阈值时执行转发操作",
                "type": "int",
                "slider": {
                    "min": 0,
                    "max": 1000,
                    "step": 50
                },
                "default": 150
            },
            "node_name": {
                "description": "转发节点昵称",
                "hint": "转发消息时使用的昵称，留空则自动获取bot的昵称来显示",
                "type": "string",
                "default": ""
            }
        }
    },
    "recall": {
        "description": "撤回配置",
        "hint": "第十步：检测发出的消息是否需要撤回，并执行撤回操作（仅aiocqhttp平台可用）。注意: 被判定为需要撤回的消息，将不会执行Astrbot自带的文转图、文转语音、合并转发、分段回复",
        "type": "object",
        "items": {
            "enable": {
                "description": "开启自动撤回",
                "type": "bool",
                "default": false
            },
            "keywords": {
                "description": "触发撤回的关键词",
                "hint": "消息中含有这些关键词时触发自动撤回操作",
                "type": "list",
                "default": [
                    "我是",
                    "我叫",
                    "我住在"
                ]
            },
            "delay": {
                "description": "撤回延时",
                "hint": "几秒后撤回消息，单位为秒",
                "type": "int",
                "slider": {
                    "min": 0,
                    "max": 110,
                    "step": 1
                },
                "default": 30
            }
        }
    }
}